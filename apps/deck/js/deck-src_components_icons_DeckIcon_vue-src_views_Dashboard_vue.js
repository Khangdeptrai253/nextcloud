/*! For license information please see deck-src_components_icons_DeckIcon_vue-src_views_Dashboard_vue.js.LICENSE.txt */
"use strict";(self.webpackChunkdeck=self.webpackChunkdeck||[]).push([["src_components_icons_DeckIcon_vue-src_views_Dashboard_vue"],{99580:(t,e,n)=>{n.d(e,{Z:()=>a});const a={name:"DeckIcon",props:{title:{type:String,default:""},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}},347:(t,e,n)=>{n.d(e,{s:()=>a,x:()=>r});var a=function(){var t=this,e=t._self._c;return e("span",t._b({staticClass:"material-design-icon deck-icon",attrs:{"aria-hidden":!t.title,"aria-label":t.title,role:"img"},on:{click:function(e){return t.$emit("click",e)}}},"span",t.$attrs,!1),[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:t.fillColor,height:t.size,width:t.size,version:"1.1",viewBox:"0 0 16 16"}},[e("rect",{attrs:{ry:"1",height:"8",width:"14",y:"7",x:"1"}}),t._v(" "),e("rect",{attrs:{ry:".5",height:"1",width:"12",y:"5",x:"2"}}),t._v(" "),e("rect",{attrs:{ry:".5",height:"1",width:"10",y:"3",x:"3"}}),t._v(" "),e("rect",{attrs:{ry:".5",height:"1",width:"8",y:"1",x:"4"}})])])},r=[]},79402:(t,e,n)=>{n.d(e,{Z:()=>a});const a={methods:{hexToRgb(t){const e=/^#?([A-Fa-f\d]{2})([A-Fa-f\d]{2})([A-Fa-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},rgb2hls(t){const e=t.r/255,n=t.g/255,a=t.b/255,r=Math.max(e,n,a),o=Math.min(e,n,a);let A,i;const d=(r+o)/2;if(r===o)A=i=0;else{const t=r-o;switch(i=d>.5?t/(2-r-o):t/(r+o),r){case e:A=(n-a)/t+(n<a?6:0);break;case n:A=(a-e)/t+2;break;case a:A=(e-n)/t+4}A/=6}return{h:A,l:d,s:i}},textColor(t){const e=this.hexToRgb(t);if(null===e)return"#000000";const{l:n}=this.rgb2hls(e);return n<.5?"#ffffff":"#000000"},colorIsValid:t=>!!/[A-Fa-f0-9]{6}/.test(t),randomColor:()=>Math.floor(16777216*Math.random()).toString(16).padStart(6,"0")}}},46359:(t,e,n)=>{n.d(e,{Z:()=>i});var a=n(87537),r=n.n(a),o=n(23645),A=n.n(o)()(r());A.push([t.id,".icon.due[data-v-21d2a7e4]{background-position:4px center;border-radius:3px;margin-top:9px;margin-bottom:9px;padding:3px 4px;padding-right:0;font-size:90%;display:flex;align-items:center;opacity:.5;flex-shrink:1;z-index:2}.icon.due .icon[data-v-21d2a7e4]{background-size:contain}.icon.due.overdue[data-v-21d2a7e4]{background-color:var(--color-error);color:var(--color-primary-element-text);opacity:.7;padding:3px 4px}.icon.due.now[data-v-21d2a7e4]{background-color:var(--color-warning);opacity:.7;padding:3px 4px}.icon.due.next[data-v-21d2a7e4]{background-color:var(--color-background-dark);opacity:.7;padding:3px 4px}.icon.due[data-v-21d2a7e4]::before,.icon.due span[data-v-21d2a7e4]{margin-left:20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}@media print{.icon.due[data-v-21d2a7e4]{background-color:rgba(0,0,0,0) !important}.icon.due span[data-v-21d2a7e4]{display:none}.icon.due[data-v-21d2a7e4]::before{content:attr(title)}}","",{version:3,sources:["webpack://./src/components/cards/badges/DueDate.vue"],names:[],mappings:"AACA,2BACC,8BAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,UAAA,CACA,aAAA,CACA,SAAA,CAEA,iCACC,uBAAA,CAGD,mCACC,mCAAA,CACA,uCAAA,CACA,UAAA,CACA,eAAA,CAED,+BACC,qCAAA,CACA,UAAA,CACA,eAAA,CAED,gCACC,6CAAA,CACA,UAAA,CACA,eAAA,CAGD,mEAEC,gBAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAIF,aACC,2BACC,yCAAA,CAEA,gCACC,YAAA,CAGD,mCACC,mBAAA,CAAA",sourcesContent:["\n.icon.due {\n\tbackground-position: 4px center;\n\tborder-radius: 3px;\n\tmargin-top: 9px;\n\tmargin-bottom: 9px;\n\tpadding: 3px 4px;\n\tpadding-right: 0;\n\tfont-size: 90%;\n\tdisplay: flex;\n\talign-items: center;\n\topacity: .5;\n\tflex-shrink: 1;\n\tz-index: 2;\n\n\t.icon {\n\t\tbackground-size: contain;\n\t}\n\n\t&.overdue {\n\t\tbackground-color: var(--color-error);\n\t\tcolor: var(--color-primary-element-text);\n\t\topacity: .7;\n\t\tpadding: 3px 4px;\n\t}\n\t&.now {\n\t\tbackground-color: var(--color-warning);\n\t\topacity: .7;\n\t\tpadding: 3px 4px;\n\t}\n\t&.next {\n\t\tbackground-color: var(--color-background-dark);\n\t\topacity: .7;\n\t\tpadding: 3px 4px;\n\t}\n\n\t&::before,\n\tspan {\n\t\tmargin-left: 20px;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t}\n}\n\n@media print {\n\t.icon.due {\n\t\tbackground-color: transparent !important;\n\n\t\tspan {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t&::before {\n\t\t\tcontent: attr(title);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const i=A},45575:(t,e,n)=>{n.d(e,{Z:()=>i});var a=n(87537),r=n.n(a),o=n(23645),A=n.n(o)()(r());A.push([t.id,".labels[data-v-1432493e]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;margin-left:10px;margin-right:10px;margin-top:-5px}.labels li[data-v-1432493e]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:0px 5px;border-radius:15px;font-size:85%;margin-right:3px;margin-bottom:3px}.labels li[data-v-1432493e]:hover{overflow:unset}.labels li span[data-v-1432493e]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.center-button[data-v-1432493e]{display:flex;align-items:center;justify-content:center;margin-top:10px}#deck-widget-empty-content[data-v-1432493e]{text-align:center;margin-top:5vh}.card[data-v-1432493e]{display:block;border-radius:var(--border-radius-large);padding:5px 8px;height:70px}.card[data-v-1432493e]:hover{background-color:var(--color-background-hover)}.card--header[data-v-1432493e]{overflow:hidden}.card--header .title[data-v-1432493e]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;position:relative;top:3px}.labels[data-v-1432493e]{margin-left:0;margin-top:3px}.duedate[data-v-1432493e] .due{margin:0 0 0 10px;padding:0px 4px;font-size:90%;margin-bottom:7px}.right[data-v-1432493e]{float:right}","",{version:3,sources:["webpack://./src/css/labels.scss","webpack://./src/views/Dashboard.vue"],names:[],mappings:"AAGA,yBACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,gBARc,CASd,iBATc,CAUd,eAAA,CAEA,4BACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,aAAA,CACA,gBAAA,CACA,iBAAA,CAEA,kCACC,cAAA,CAGD,iCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CChCH,gCACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,eAAA,CAGD,4CACC,iBAAA,CACA,cAAA,CAGD,uBACC,aAAA,CACA,wCAAA,CACA,eAAA,CACA,WAAA,CACA,6BACC,8CAAA,CAIF,+BACC,eAAA,CACA,sCACC,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,aAAA,CACA,iBAAA,CACA,OAAA,CAIF,yBACC,aAAA,CACA,cAAA,CAIA,+BACC,iBAAA,CACA,eAAA,CACA,aAAA,CACA,iBAAA,CAIF,wBACC,WAAA",sourcesContent:["$card-spacing: 10px;\n$card-padding: 10px;\n\n.labels {\n\tflex-grow: 1;\n\tflex-shrink: 1;\n\tmin-width: 0;\n\tdisplay: flex;\n\tflex-direction: row;\n\tmargin-left: $card-padding;\n\tmargin-right: $card-padding;\n\tmargin-top: -5px;\n\n\tli {\n\t\tflex-grow: 0;\n\t\tflex-shrink: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\toverflow: hidden;\n\t\tpadding: 0px 5px;\n\t\tborder-radius: 15px;\n\t\tfont-size: 85%;\n\t\tmargin-right: 3px;\n\t\tmargin-bottom: 3px;\n\n\t\t&:hover {\n\t\t\toverflow: unset;\n\t\t}\n\n\t\tspan {\n\t\t\tflex-grow: 0;\n\t\t\tflex-shrink: 1;\n\t\t\tmin-width: 0;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t}\n}\n","\n@import './../css/labels';\n\n.center-button {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-top: 10px;\n}\n\n#deck-widget-empty-content {\n\ttext-align: center;\n\tmargin-top: 5vh;\n}\n\n.card {\n\tdisplay: block;\n\tborder-radius: var(--border-radius-large);\n\tpadding: 5px 8px;\n\theight: 70px;\n\t&:hover {\n\t\tbackground-color: var(--color-background-hover);\n\t}\n}\n\n.card--header {\n\toverflow: hidden;\n\t.title {\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\ttop: 3px;\n\t}\n}\n\n.labels {\n\tmargin-left: 0;\n\tmargin-top: 3px;\n}\n\n.duedate:deep {\n\t.due {\n\t\tmargin: 0 0 0 10px;\n\t\tpadding: 0px 4px;\n\t\tfont-size: 90%;\n\t\tmargin-bottom: 7px;\n\t}\n}\n\n.right {\n\tfloat: right;\n}\n"],sourceRoot:""}]);const i=A},51029:(t,e,n)=>{n.d(e,{Z:()=>o});var a=n(347),r=n(14389);const o=(0,n(51900).Z)(r.Z,a.s,a.x,!1,null,null,null).exports},50661:(e,n,a)=>{a.r(n),a.d(n,{default:()=>N});var r=a(59509),o=a(15961),A=a(20629);const i={mixins:[a(79402).Z],computed:{labelStyle(){return t=>({backgroundColor:"#"+t.color,color:this.textColor(t.color)})}}};var d=a(57883);const s={name:"DueDate",props:{card:{type:Object,default:null}},computed:{dueIcon(){const t=Math.floor((0,d.Z)(this.card.duedate).diff(this.$root.time,"seconds")/60/60/24);return t<0?"icon-calendar due icon overdue":0===t?"icon-calendar-dark due icon now":1===t?"icon-calendar-dark due icon next":"icon-calendar-dark due icon"},relativeDate(){const e=(0,d.Z)(this.$root.time).diff(this.card.duedate,"seconds");return e>=0&&e<45?t("core","seconds ago"):(0,d.Z)(this.card.duedate).fromNow()},absoluteDate(){return(0,d.Z)(this.card.duedate).format("L")}}};var l=a(93379),c=a.n(l),C=a(7795),p=a.n(C),g=a(90569),u=a.n(g),h=a(3565),x=a.n(h),f=a(19216),m=a.n(f),v=a(44589),b=a.n(v),w=a(46359),k={};k.styleTagTransform=b(),k.setAttributes=x(),k.insert=u().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=m();c()(w.Z,k);w.Z&&w.Z.locals&&w.Z.locals;var y=a(51900);const B=(0,y.Z)(s,(function(){var t=this,e=t._self._c;return t.card?e("div",{staticClass:"duedate"},[e("transition",{attrs:{name:"zoom"}},[t.card.duedate?e("div",{class:t.dueIcon,attrs:{title:t.absoluteDate}},[e("span",[t._v(t._s(t.relativeDate))])]):t._e()])],1):t._e()}),[],!1,null,"21d2a7e4",null).exports;var _=a(79753),D=a(72449),Z=a(52794);a(15451);const I={name:"Dashboard",components:{CreateNewCardCustomPicker:(0,y.Z)(Z.Z,D.s,D.x,!1,null,"798c7eae",null).exports,NcModal:o.Jc,DueDate:B,NcDashboardWidget:o.YJ,NcButton:o.P2,PlusIcon:r.Z},mixins:[i],data:()=>({loading:!1,showAddCardModal:!1}),computed:{...(0,A.mapGetters)(["assignedCardsDashboard"]),cards(){const t=[...this.assignedCardsDashboard].filter((t=>null!==t.duedate));return t.sort(((t,e)=>new Date(t.duedate).getTime()-new Date(e.duedate).getTime())),t.slice(0,5)},cardLink:()=>t=>(0,_.generateUrl)("/apps/deck")+"#/board/".concat(t.boardId,"/card/").concat(t.id),showMoreUrl(){return this.cards.length>7?(0,_.generateUrl)("/apps/deck"):null}},beforeMount(){this.loading=!0,this.$store.dispatch("loadUpcoming").then((()=>{this.loading=!1}))},methods:{toggleAddCardModel(){this.showAddCardModal=!this.showAddCardModal}}};var M=a(45575),z={};z.styleTagTransform=b(),z.setAttributes=x(),z.insert=u().bind(null,"head"),z.domAPI=p(),z.insertStyleElement=m();c()(M.Z,z);M.Z&&M.Z.locals&&M.Z.locals;const N=(0,y.Z)(I,(function(){var t=this,e=t._self._c;return e("div",[e("NcDashboardWidget",{attrs:{items:t.cards,"empty-content-icon":"icon-deck","empty-content-message":t.t("deck","No upcoming cards"),"show-more-text":t.t("deck","upcoming cards"),loading:t.loading},on:{hide:()=>{},markDone:()=>{}},scopedSlots:t._u([{key:"default",fn:function(n){let{item:a}=n;return[e("a",{key:a.id,staticClass:"card",attrs:{href:t.cardLink(a),target:"_blank"}},[e("div",{staticClass:"card--header"},[e("DueDate",{staticClass:"right",attrs:{card:a}}),t._v(" "),e("span",{staticClass:"title"},[t._v(t._s(a.title))])],1),t._v(" "),a.labels&&a.labels.length?e("ul",{staticClass:"labels"},t._l(a.labels,(function(n){return e("li",{key:n.id,style:t.labelStyle(n)},[e("span",[t._v(t._s(n.title))])])})),0):t._e()])]}}])}),t._v(" "),e("div",{staticClass:"center-button"},[e("NcButton",{on:{click:t.toggleAddCardModel},scopedSlots:t._u([{key:"icon",fn:function(){return[e("PlusIcon",{attrs:{size:20}})]},proxy:!0}])},[t._v("\n\t\t\t"+t._s(t.t("deck","New card"))+"\n\t\t")]),t._v(" "),t.showAddCardModal?e("NcModal",{staticClass:"card-selector",on:{close:t.toggleAddCardModel}},[e("CreateNewCardCustomPicker",{attrs:{"show-created-notice":""},on:{cancel:t.toggleAddCardModel}})],1):t._e()],1)],1)}),[],!1,null,"1432493e",null).exports},14389:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n(99580).Z}}]);
//# sourceMappingURL=deck-src_components_icons_DeckIcon_vue-src_views_Dashboard_vue.js.map?v=4348db4b58de43be622b